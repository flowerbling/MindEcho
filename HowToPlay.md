# 🎮 游戏名称：《法则迷宫》(The Labyrinth of Laws) - 玩法指南

## 📜 核心概念

玩家在一个由通用组件构成的抽象空间中醒来，目标是达成一个随机生成的终极目标。世界的运转受到动态生成的法规则制约，玩家必须通过有限的交互动作，探索规则、利用规则漏洞，甚至引导 AI 规则生成器创造出矛盾，最终破解迷宫。

## 🧩 游戏核心机制

### 1. 通用组件系统 (Universal Components)

世界由以下可交互的组件构成，每次游戏随机出现子集：

*   **物体 (Objects):** 门、按钮、水晶、镜子、书籍、容器、光源等。
*   **角色 (Entities):** 守卫、向导、幽灵、机械体等（每个都有简单 AI）。
*   **环境状态 (States):** 光明/黑暗、寂静/嘈杂、有序/混乱等（可切换）。
*   **规则节点 (Rule Nodes):** 漂浮的符文、发光的碑文等（触碰后可获得当前规则提示）。

### 2. 动态规则生成 (Dynamic Rule Generation)

*   **初始规则:** 游戏开始时只有 1 条基础规则（如“规则 0: 你不能伤害自己”）。
*   **规则生成器 (AI):** 玩家每次交互后，AI 会根据当前环境、已有规则和玩家行为，生成 1 条新规则。
*   **规则类型:**
    *   **禁止型:** “不能触摸红色物体。”
    *   **强制型:** “必须向所有角色鞠躬。”
    *   **条件型:** “只有在黑暗中才能移动。”
    *   **目标型:** “你必须收集三个钥匙。”
    *   **矛盾型:** （后期可能生成）“你必须同时保持光明和黑暗。”

### 3. 玩家交互方式 (Player Interaction)

玩家每回合可从以下多选一动作中选择一项执行（通过 UI 按钮选择）：

*   **观察 (Observe):** 获取当前场景的详细描述（包括物体状态、角色行为）。
*   **移动 (Move):** 移动到相邻区域（如果规则允许）。
*   **交互 (Interact):** 与一个物体或角色交互（如触摸、使用、对话）。
*   **声明 (Declare):** 主动声明一条假设的规则（如“我猜测：不能说话”），如果正确则获得提示，错误则可能触发惩罚。
*   **挑战 (Challenge):** 挑战当前规则的逻辑一致性（如果检测到矛盾，可能迫使 AI 修改或删除规则）。

### 4. 胜利条件生成 (Dynamic Victory Condition)

游戏开始时，AI 会随机生成一个终极目标，但不会直接告诉玩家。玩家需要通过探索、规则推断和与环境互动来逐渐揭示目标。

**示例目标：**

*   “让所有钟声响起”
*   “将所有颜色混合成白色”
*   “使守卫全部消失”
*   “找到并摧毁规则之源”

## ⚙️ 运行机制详细设计

### 🔄 游戏流程

1.  **初始化:**
    *   生成一个随机场景（例如“圆形大厅，中有水晶，两侧有门，一名守卫巡逻”）。
    *   生成 1 条基础规则（规则 0）。
    *   生成 1 个隐藏胜利条件。
2.  **玩家回合:**
    *   选择交互动作（观察/移动/交互/声明/挑战）。
    *   执行动作，AI 根据动作结果生成新规则。
3.  **AI 回合:**
    *   AI 作为“规则造物主”，评估玩家动作：
        *   如果动作安全，生成一条增加难度的规则。
        *   如果动作接近胜利，生成一条阻碍型规则。
        *   如果动作存在漏洞，生成一条修补型规则。
        *   如果动作重复且无新意，生成一条激励型规则（鼓励其他行为）。
    *   新规则必须与旧规则在逻辑上尽可能一致，但允许后期出现潜在矛盾。
4.  **规则矛盾处理:**
    *   如果玩家主动使用“挑战”动作，AI 必须检查规则集是否存在矛盾。
    *   如果确实存在矛盾，AI 必须删除或修改一条规则（并告知玩家）。
    *   如果玩家因规则矛盾无法执行任何动作（且未挑战），则游戏失败。
5.  **胜利判定:**
    *   当玩家达成终极目标时，立即胜利。
    *   如果玩家通过“挑战”动作使规则系统崩溃（连续成功挑战 3 次），则胜利。

### 🧠 AI 规则生成器的逻辑设计

AI 的决策基于以下优先级：

1.  **一致性:** 新规则不得与已有规则明显矛盾（除非玩家行为导致系统趋于混乱）。
2.  **响应性:** 规则必须直接响应玩家上一回合的动作。
3.  **趣味性:** 规则应增加游戏的复杂性和趣味性，而非单纯禁止。
4.  **可执行性:** 规则必须具有可被验证的执行条件（例如“不能做 X”或“必须做 Y”）。

**示例 AI 生成规则的过程：**

*   **玩家动作:** “触摸水晶”
*   **AI 评估:** 水晶是重要物体，触摸可能导致进度加快。
*   **AI 生成:** “规则 7: 每次触摸水晶后，必须向守卫报告一次，否则水晶失效。”

## 🎯 玩家策略与深度

*   **保守探索:** 通过“观察”和“声明”慢慢积累规则，避免触发过多新规则。
*   **激进利用:** 主动尝试看似违规的行为，试探规则边界，引导 AI 生成矛盾。
*   **环境操控:** 利用环境状态变化（如点亮/熄灭灯光）来满足条件规则。
*   **规则合成:** 结合多条规则推理出隐藏可能性（如“不能触摸”+“必须使用” => 寻找工具间接交互）。

## 📱 交互方式建议（UI/UX）

*   **主界面:** 3D 或 2D 俯视图场景，显示可交互物体和角色。
*   **动作菜单:** 每回合显示 5 个按钮（观察/移动/交互/声明/挑战）。
*   **规则面板:** 实时显示当前所有规则列表。
*   **目标提示:** 以碎片化形式显示已发现的胜利条件线索。

## 🏆 胜利与失败条件

### 胜利:

*   达成动态生成的终极目标。
*   通过“挑战”使规则系统崩溃（逻辑矛盾无法修复）。

### 失败:

*   违反任意一条规则（例如在禁止移动时移动）。
*   无法执行任何有效动作（被规则困死）。
*   回合数超过限制（可选）。